<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Creatividad - Thinking Skills Program</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: #1a1a2e;
      min-height: 100vh;
      color: #e2e8f0;
    }
    
    .header {
      background: linear-gradient(135deg, #ed8936 0%, #dd6b20 100%);
      color: white;
      padding: 16px 24px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: sticky;
      top: 0;
      z-index: 100;
    }
    
    .header-title {
      font-size: 20px;
      font-weight: 600;
    }
    
    .header-controls {
      display: flex;
      gap: 12px;
      align-items: center;
    }
    
    .zoom-controls {
      display: flex;
      align-items: center;
      gap: 8px;
      background: rgba(255,255,255,0.2);
      padding: 6px 12px;
      border-radius: 8px;
    }
    
    .zoom-btn {
      background: rgba(255,255,255,0.3);
      color: white;
      border: none;
      width: 32px;
      height: 32px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 18px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s;
    }
    
    .zoom-btn:hover {
      background: rgba(255,255,255,0.4);
    }
    
    .zoom-value {
      min-width: 50px;
      text-align: center;
      font-weight: 500;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 24px;
    }
    
    /* Estado de carga */
    .loading-state {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 60vh;
      text-align: center;
    }
    
    .loading-state p {
      font-size: 18px;
      color: #a0aec0;
    }
    
    /* Estado sin ciclo */
    .no-cycle-state {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 60vh;
      text-align: center;
    }
    
    .no-cycle-state h2 {
      font-size: 24px;
      margin-bottom: 16px;
      color: #e2e8f0;
    }
    
    .no-cycle-state p {
      color: #a0aec0;
      margin-bottom: 24px;
    }
    
    .btn-back-dashboard {
      background: #ed8936;
      color: white;
      border: none;
      padding: 14px 28px;
      border-radius: 8px;
      font-size: 16px;
      font-weight: 500;
      cursor: pointer;
      text-decoration: none;
    }
    
    .btn-back-dashboard:hover {
      background: #dd6b20;
    }
    
    /* Estado completado */
    .completed-state {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 60vh;
      text-align: center;
    }
    
    .completed-card {
      background: rgba(255,255,255,0.1);
      border-radius: 16px;
      padding: 48px;
      max-width: 500px;
    }
    
    .completed-icon {
      font-size: 64px;
      margin-bottom: 24px;
    }
    
    .completed-card h2 {
      font-size: 24px;
      margin-bottom: 16px;
      color: #48bb78;
    }
    
    .completed-card p {
      color: #a0aec0;
      margin-bottom: 24px;
      line-height: 1.6;
    }
    
    .btn-completed {
      background: linear-gradient(135deg, #48bb78 0%, #38a169 100%);
      color: white;
      border: none;
      padding: 14px 32px;
      border-radius: 8px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
    }
    
    .btn-completed:hover {
      transform: translateY(-2px);
    }
    
    .btn-request-review {
      background: linear-gradient(135deg, #ed8936 0%, #dd6b20 100%);
      color: white;
      border: none;
      padding: 16px 32px;
      border-radius: 8px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      margin-bottom: 12px;
      width: 100%;
      max-width: 300px;
    }
    
    .btn-request-review:hover {
      transform: translateY(-2px);
    }
    
    .btn-secondary-action {
      background: rgba(255,255,255,0.1);
      color: #a0aec0;
      border: 1px solid rgba(255,255,255,0.2);
      padding: 12px 24px;
      border-radius: 8px;
      font-size: 14px;
      cursor: pointer;
    }
    
    .btn-secondary-action:hover {
      background: rgba(255,255,255,0.2);
    }
    
    .grade-display {
      background: rgba(72, 187, 120, 0.2);
      border-radius: 12px;
      padding: 24px;
      margin: 20px 0;
      text-align: center;
    }
    
    .grade-value {
      font-size: 48px;
      font-weight: 700;
      color: #48bb78;
    }
    
    .grade-label {
      font-size: 14px;
      color: #a0aec0;
      margin-top: 8px;
    }
    
    .grade-comment {
      background: rgba(255,255,255,0.05);
      border-left: 3px solid #ed8936;
      padding: 12px 16px;
      margin: 16px 0;
      border-radius: 0 8px 8px 0;
      text-align: left;
    }
    
    .grade-comment-label {
      font-size: 12px;
      color: #ed8936;
      margin-bottom: 4px;
    }
    
    /* SecciÃ³n de instrucciones */
    .instructions-section {
      background: rgba(255,255,255,0.05);
      border-radius: 12px;
      padding: 24px;
      margin-bottom: 24px;
      border-left: 4px solid #ed8936;
    }
    
    .instructions-title {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 12px;
      color: #ed8936;
    }
    
    .instructions-text {
      color: #e2e8f0;
      line-height: 1.7;
      white-space: pre-wrap;
    }
    
    /* Visor de contenido */
    .content-viewer {
      background: #2d2d44;
      border-radius: 12px;
      overflow: hidden;
      min-height: 500px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .content-viewer.image-viewer {
      padding: 24px;
    }
    
    .content-viewer img {
      max-width: 100%;
      transition: transform 0.3s ease;
      border-radius: 8px;
    }
    
    .content-viewer iframe {
      width: 100%;
      height: 80vh;
      border: none;
    }
    
    /* BotÃ³n finalizar */
    .finish-section {
      margin-top: 24px;
      text-align: center;
    }
    
    .btn-finish {
      background: linear-gradient(135deg, #48bb78 0%, #38a169 100%);
      color: white;
      border: none;
      padding: 16px 48px;
      border-radius: 8px;
      font-size: 18px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      box-shadow: 0 4px 12px rgba(72, 187, 120, 0.3);
    }
    
    .btn-finish:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 16px rgba(72, 187, 120, 0.4);
    }
    
    .hidden {
      display: none !important;
    }
    
    /* ============================================
       BARRA DE ACCION SUPERIOR (nuevo flujo)
       ============================================ */
    .action-bar {
      background: rgba(237, 137, 54, 0.15);
      border-bottom: 2px solid #ed8936;
      padding: 12px 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 16px;
      position: sticky;
      top: 56px;
      z-index: 90;
      backdrop-filter: blur(8px);
    }
    
    .action-content {
      display: flex;
      align-items: center;
      gap: 16px;
      flex-wrap: wrap;
      justify-content: center;
    }
    
    .action-bar .action-text {
      font-size: 15px;
      font-weight: 500;
      color: #e2e8f0;
    }
    
    .action-bar .btn-solicitar {
      background: linear-gradient(135deg, #ed8936 0%, #dd6b20 100%);
      color: white;
      border: none;
      padding: 10px 24px;
      border-radius: 8px;
      font-size: 15px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      box-shadow: 0 4px 12px rgba(237, 137, 54, 0.3);
    }
    
    .action-bar .btn-solicitar:hover {
      transform: translateY(-1px);
      box-shadow: 0 6px 16px rgba(237, 137, 54, 0.4);
    }
    
    /* Estado pendiente - barra amarilla */
    .action-bar.pending {
      background: rgba(236, 201, 75, 0.15);
      border-bottom-color: #ecc94b;
    }
    
    .action-bar.pending .action-text {
      color: #ecc94b;
    }
    
    /* Indicador pulsante */
    .pulse-indicator {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background: #ecc94b;
      animation: pulse 1.5s ease-in-out infinite;
    }
    
    @keyframes pulse {
      0%, 100% { opacity: 1; transform: scale(1); }
      50% { opacity: 0.5; transform: scale(1.3); }
    }
    
    /* Overlay de calificacion (gradedState como overlay) */
    .graded-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(26, 26, 46, 0.92);
      backdrop-filter: blur(6px);
      z-index: 200;
      display: flex;
      align-items: center;
      justify-content: center;
      animation: fadeIn 0.4s ease;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    .graded-overlay .completed-card {
      animation: slideUp 0.4s ease;
    }
    
    @keyframes slideUp {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    /* Boton volver en la barra de accion */
    .action-bar .btn-volver {
      background: rgba(255,255,255,0.1);
      color: #a0aec0;
      border: 1px solid rgba(255,255,255,0.2);
      padding: 8px 16px;
      border-radius: 6px;
      font-size: 13px;
      cursor: pointer;
      transition: all 0.2s;
      text-decoration: none;
    }
    
    .action-bar .btn-volver:hover {
      background: rgba(255,255,255,0.2);
      color: #e2e8f0;
    }
    
    @media (prefers-reduced-motion: reduce) {
      .pulse-indicator { animation: none; }
      .graded-overlay, .graded-overlay .completed-card { animation: none; }
    }
    
    @media (max-width: 480px) {
      .action-bar {
        padding: 10px 16px;
        gap: 10px;
      }
      .action-bar .btn-solicitar {
        padding: 8px 16px;
        font-size: 14px;
      }
    }
  </style>
</head>
<body>
  <!-- Estado de carga -->
  <div id="loadingState" class="loading-state">
    <p>Cargando contenido...</p>
  </div>
  
  <!-- Sin ciclo activo -->
  <div id="noCycleState" class="no-cycle-state hidden">
    <h2>No hay actividad disponible</h2>
    <p>Actualmente no hay un ciclo de creatividad activo para tu grado.<br>Consulta con tu docente o vuelve mÃ¡s tarde.</p>
    <a href="../estudiante/dashboard.html" class="btn-back-dashboard">Volver al Dashboard</a>
  </div>
  
  <!-- Overlay de calificacion (aparece sobre todo cuando el docente califica) -->
  <div id="gradedOverlay" class="graded-overlay hidden">
    <div class="completed-card">
      <div class="completed-icon">ðŸŽ‰</div>
      <h2>Â¡Tu trabajo ha sido calificado!</h2>
      <div class="grade-display">
        <div class="grade-value" id="gradeValue">0%</div>
        <div class="grade-label">CalificaciÃ³n obtenida</div>
      </div>
      <div id="gradeComment" class="grade-comment hidden"></div>
      <button class="btn-completed" onclick="window.location.href='../estudiante/dashboard.html'">
        Aceptar
      </button>
    </div>
  </div>
  
  <!-- Contenido principal (permanece visible en estados finalizada y pendiente_revision) -->
  <div id="mainContent" class="hidden">
    <header class="header">
      <span class="header-title" id="headerTitle">Creatividad</span>
      <div class="header-controls">
        <div class="zoom-controls">
          <button class="zoom-btn" onclick="zoomOut()">âˆ’</button>
          <span class="zoom-value" id="zoomValue">100%</span>
          <button class="zoom-btn" onclick="zoomIn()">+</button>
        </div>
      </div>
    </header>
    
    <!-- Barra de accion superior (aparece tras finalizar actividad) -->
    <div id="actionBar" class="action-bar hidden">
      <!-- Estado: finalizada - listo para solicitar revision -->
      <div id="actionFinished" class="action-content hidden">
        <span class="action-text">Actividad completada. Muestra tu trabajo al docente.</span>
        <button class="btn-solicitar" onclick="solicitarRevision()">
          Solicitar Revision al Docente
        </button>
        <a href="../estudiante/dashboard.html" class="btn-volver">Volver al Dashboard</a>
      </div>
      <!-- Estado: pendiente_revision - esperando calificacion -->
      <div id="actionPending" class="action-content hidden">
        <div class="pulse-indicator" aria-label="Esperando calificacion"></div>
        <span class="action-text">Esperando calificacion del docente...</span>
        <a href="../estudiante/dashboard.html" class="btn-volver">Volver al Dashboard</a>
      </div>
    </div>
    
    <div class="container">
      <!-- Instrucciones (opcional) -->
      <div id="instructionsSection" class="instructions-section hidden">
        <h3 class="instructions-title">Instrucciones</h3>
        <p class="instructions-text" id="instructionsText"></p>
      </div>
      
      <!-- Visor de contenido -->
      <div class="content-viewer" id="contentViewer">
        <!-- Se carga dinÃ¡micamente: imagen o PDF -->
      </div>
      
      <!-- BotÃ³n finalizar (se oculta al finalizar) -->
      <div class="finish-section" id="finishSection">
        <button class="btn-finish" id="btnFinish" onclick="finalizarActividad()">
          He terminado de visualizar
        </button>
      </div>
    </div>
  </div>

  <script type="module">
    import { getUser } from '../auth/auth.core.js';
    import { CiclosCreatividadAPI, SesionesCreatividadAPI } from './creatividad.api.js';
    import { CONFIG } from '../config/supabase.config.js';
    
    let cicloActual = null;
    let sesionActual = null;
    let zoomLevel = 100;
    let tiempoInicio = null;
    let usuarioActual = null;
    let pollingInterval = null;
    
    // ============================================
    // INICIALIZACION
    // ============================================
    
    async function init() {
      usuarioActual = getUser();
      
      if (!usuarioActual) {
        window.location.href = '../index.html';
        return;
      }
      
      try {
        const gradoUsuario = await obtenerGradoUsuario(usuarioActual);
        
        if (!gradoUsuario) {
          mostrarEstado('noCycleState');
          return;
        }
        
        // Obtener ciclo activo
        cicloActual = await CiclosCreatividadAPI.obtenerActivoPorGrado(gradoUsuario);
        
        if (!cicloActual) {
          mostrarEstado('noCycleState');
          return;
        }
        
        // Verificar sesion existente
        const sesionExistente = await SesionesCreatividadAPI.obtenerSesion(cicloActual.id, usuarioActual.id);
        
        if (sesionExistente) {
          sesionActual = sesionExistente;
          
          // Estado: calificada -> mostrar overlay con calificacion sobre el reto
          if (sesionExistente.estado === 'calificada') {
            cargarContenido();
            mostrarEstado('mainContent');
            ocultarFinishSection();
            mostrarCalificacion(sesionExistente);
            return;
          }
          
          // Estado: pendiente_revision -> mostrar reto + barra "esperando"
          if (sesionExistente.estado === 'pendiente_revision') {
            cargarContenido();
            mostrarEstado('mainContent');
            ocultarFinishSection();
            mostrarBarraAccion('pending');
            iniciarPolling();
            return;
          }
          
          // Estado: finalizada -> mostrar reto + barra "solicitar revision"
          if (sesionExistente.estado === 'finalizada') {
            cargarContenido();
            mostrarEstado('mainContent');
            ocultarFinishSection();
            mostrarBarraAccion('finished');
            return;
          }
        }
        
        // Iniciar o recuperar sesion (estado: en_progreso)
        sesionActual = await SesionesCreatividadAPI.iniciar(cicloActual.id, usuarioActual.id);
        tiempoInicio = Date.now();
        
        // Cargar contenido con boton "He terminado"
        cargarContenido();
        mostrarEstado('mainContent');
        
      } catch (error) {
        console.error('Error inicializando:', error);
        if (error.message && error.message.includes('Ya completaste')) {
          // Intentar cargar contenido si hay ciclo
          if (cicloActual) {
            cargarContenido();
            mostrarEstado('mainContent');
            ocultarFinishSection();
            mostrarBarraAccion('finished');
          } else {
            mostrarEstado('noCycleState');
          }
        } else {
          mostrarEstado('noCycleState');
        }
      }
    }
    
    // ============================================
    // GESTION DE ESTADOS
    // ============================================
    
    /**
     * Muestra un estado principal (loadingState, noCycleState, mainContent).
     * Ya NO incluye completedState ni pendingReviewState (eliminados).
     */
    function mostrarEstado(stateId) {
      ['loadingState', 'noCycleState', 'mainContent'].forEach(id => {
        const el = document.getElementById(id);
        if (el) el.classList.add('hidden');
      });
      const target = document.getElementById(stateId);
      if (target) target.classList.remove('hidden');
    }
    
    /**
     * Muestra la barra de accion superior dentro de mainContent.
     * @param {'finished'|'pending'} tipo
     */
    function mostrarBarraAccion(tipo) {
      const bar = document.getElementById('actionBar');
      const finished = document.getElementById('actionFinished');
      const pending = document.getElementById('actionPending');
      
      // Ocultar ambos contenidos
      finished.classList.add('hidden');
      pending.classList.add('hidden');
      bar.classList.remove('pending');
      
      if (tipo === 'finished') {
        finished.classList.remove('hidden');
      } else if (tipo === 'pending') {
        pending.classList.remove('hidden');
        bar.classList.add('pending');
      }
      
      bar.classList.remove('hidden');
    }
    
    /**
     * Oculta la barra de accion.
     */
    function ocultarBarraAccion() {
      const bar = document.getElementById('actionBar');
      if (bar) bar.classList.add('hidden');
    }
    
    /**
     * Oculta el boton "He terminado de visualizar".
     */
    function ocultarFinishSection() {
      const section = document.getElementById('finishSection');
      if (section) section.classList.add('hidden');
    }
    
    // ============================================
    // CALIFICACION (overlay)
    // ============================================
    
    /**
     * Muestra el overlay de calificacion sobre el reto visible.
     */
    function mostrarCalificacion(sesion) {
      document.getElementById('gradeValue').textContent = `${sesion.calificacion_docente || 0}%`;
      
      if (sesion.comentario_docente) {
        const commentDiv = document.getElementById('gradeComment');
        commentDiv.innerHTML = `
          <div class="grade-comment-label">Comentario del docente:</div>
          <p>${sesion.comentario_docente}</p>
        `;
        commentDiv.classList.remove('hidden');
      }
      
      // Mostrar overlay (encima del reto que permanece visible debajo)
      document.getElementById('gradedOverlay').classList.remove('hidden');
    }
    
    // ============================================
    // POLLING (detectar calificacion del docente)
    // ============================================
    
    /**
     * Inicia polling cada 5 segundos para detectar cuando el docente califica.
     * Al detectar estado 'calificada', muestra el overlay automaticamente.
     */
    function iniciarPolling() {
      // Limpiar polling anterior si existe
      if (pollingInterval) clearInterval(pollingInterval);
      
      pollingInterval = setInterval(async () => {
        try {
          const sesion = await SesionesCreatividadAPI.obtenerSesion(
            cicloActual.id, usuarioActual.id
          );
          if (sesion && sesion.estado === 'calificada') {
            clearInterval(pollingInterval);
            pollingInterval = null;
            // Transicion: ocultar barra pending, mostrar overlay
            ocultarBarraAccion();
            mostrarCalificacion(sesion);
          }
        } catch (error) {
          console.error('Error en polling:', error);
          // No detener polling por errores transitorios
        }
      }, 5000);
    }
    
    /**
     * Detiene el polling al salir de la pagina.
     */
    window.addEventListener('beforeunload', () => {
      if (pollingInterval) clearInterval(pollingInterval);
    });
    
    // ============================================
    // SOLICITAR REVISION
    // ============================================
    
    window.solicitarRevision = async function() {
      if (!confirm('Â¿Solicitar al docente que revise y califique tu trabajo?')) return;
      
      try {
        await SesionesCreatividadAPI.solicitarRevision(sesionActual.id);
        
        // Transicion: cambiar barra de "solicitar" a "esperando"
        mostrarBarraAccion('pending');
        
        // Iniciar polling para detectar calificacion
        iniciarPolling();
        
      } catch (error) {
        console.error('Error solicitando revision:', error);
        alert('Error al enviar solicitud: ' + error.message);
      }
    };
    
    // ============================================
    // FINALIZAR ACTIVIDAD
    // ============================================
    
    window.finalizarActividad = async function() {
      if (!confirm('Â¿Confirmas que has terminado de visualizar el contenido?')) return;
      
      try {
        const tiempoTotal = Math.floor((Date.now() - tiempoInicio) / 1000);
        
        await SesionesCreatividadAPI.finalizarSesion(sesionActual.id, tiempoTotal);
        
        // El reto sigue visible, solo cambiamos los controles:
        // Ocultar boton "He terminado" y mostrar barra de accion
        ocultarFinishSection();
        mostrarBarraAccion('finished');
        
      } catch (error) {
        console.error('Error finalizando:', error);
        alert('Error al guardar: ' + error.message);
      }
    };
    
    // ============================================
    // CONTENIDO Y ZOOM
    // ============================================
    
    function cargarContenido() {
      document.getElementById('headerTitle').textContent = cicloActual.titulo;
      
      // Mostrar instrucciones si aplica
      if (cicloActual.mostrar_instrucciones && cicloActual.instrucciones) {
        document.getElementById('instructionsText').textContent = cicloActual.instrucciones;
        document.getElementById('instructionsSection').classList.remove('hidden');
      }
      
      // Cargar visor segun tipo de archivo
      const viewer = document.getElementById('contentViewer');
      
      if (cicloActual.archivo_tipo === 'pdf') {
        viewer.classList.remove('image-viewer');
        viewer.innerHTML = `<iframe id="pdfViewer" src="${cicloActual.archivo_url}" title="PDF"></iframe>`;
      } else {
        viewer.classList.add('image-viewer');
        viewer.innerHTML = `<img id="imageViewer" src="${cicloActual.archivo_url}" alt="${cicloActual.titulo}">`;
      }
    }
    
    window.zoomIn = function() {
      if (zoomLevel >= 200) return;
      zoomLevel += 10;
      aplicarZoom();
    };
    
    window.zoomOut = function() {
      if (zoomLevel <= 50) return;
      zoomLevel -= 10;
      aplicarZoom();
    };
    
    function aplicarZoom() {
      document.getElementById('zoomValue').textContent = `${zoomLevel}%`;
      
      const img = document.getElementById('imageViewer');
      if (img) {
        img.style.transform = `scale(${zoomLevel / 100})`;
      }
    }
    
    // ============================================
    // UTILIDADES
    // ============================================
    
    async function obtenerGradoUsuario(user) {
      let grado = user.grado;
      
      if (!grado) {
        const response = await fetch(
          `${CONFIG.SUPABASE_URL}/rest/v1/usuarios?id=eq.${user.id}&select=grado`,
          {
            headers: {
              'apikey': CONFIG.SUPABASE_ANON_KEY,
              'Authorization': `Bearer ${CONFIG.SUPABASE_ANON_KEY}`
            }
          }
        );
        
        if (response.ok) {
          const data = await response.json();
          if (data && data[0]) {
            grado = data[0].grado;
          }
        }
      }
      
      return mapearGrado(grado);
    }
    
    function mapearGrado(gradoRaw) {
      if (!gradoRaw) return null;
      const gradoStr = String(gradoRaw).toLowerCase().replace('Â°', '').trim();
      const mapa = {
        '3': 'tercero', 'tercero': 'tercero',
        '4': 'cuarto', 'cuarto': 'cuarto',
        '5': 'quinto', 'quinto': 'quinto',
        '6': 'sexto', 'sexto': 'sexto',
        '7': 'septimo', 'sÃ©ptimo': 'septimo', 'septimo': 'septimo',
        '8': 'octavo', 'octavo': 'octavo',
        '9': 'noveno', 'noveno': 'noveno',
        '10': 'decimo', 'dÃ©cimo': 'decimo', 'decimo': 'decimo',
        '11': 'undecimo', 'undÃ©cimo': 'undecimo', 'undecimo': 'undecimo'
      };
      return mapa[gradoStr] || gradoStr;
    }
    
    // Iniciar
    init();
  </script>
</body>
</html>
